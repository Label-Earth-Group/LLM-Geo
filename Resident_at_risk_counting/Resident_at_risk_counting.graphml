<?xml version='1.0' encoding='utf-8'?>
<graphml xmlns="http://graphml.graphdrawing.org/xmlns" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://graphml.graphdrawing.org/xmlns http://graphml.graphdrawing.org/xmlns/1.0/graphml.xsd">
  <key id="d3" for="node" attr.name="data_path" attr.type="string" />
  <key id="d2" for="node" attr.name="description" attr.type="string" />
  <key id="d1" for="node" attr.name="path" attr.type="string" />
  <key id="d0" for="node" attr.name="node_type" attr.type="string" />
  <graph edgedefault="directed">
    <node id="haz_waste_shp_url">
      <data key="d0">data</data>
      <data key="d1">https://github.com/gladcolor/LLM-Geo/raw/master/overlay_analysis/HW_Sites_EPSG4326.zip</data>
      <data key="d2">Hazardous waste facility shapefile URL</data>
    </node>
    <node id="load_haz_waste_shp">
      <data key="d0">operation</data>
      <data key="d2">Load hazardous waste facility shapefile</data>
    </node>
    <node id="haz_waste_gdf">
      <data key="d0">data</data>
      <data key="d2">Hazardous waste facility GeoDataFrame</data>
    </node>
    <node id="tract_shp_url">
      <data key="d0">data</data>
      <data key="d3">https://github.com/gladcolor/LLM-Geo/raw/master/overlay_analysis/tract_37_EPSG4326.zip</data>
      <data key="d2">NC tract boundary shapefile URL</data>
    </node>
    <node id="load_tract_shp">
      <data key="d0">operation</data>
      <data key="d2">Load NC tract boundary shapefile</data>
    </node>
    <node id="tract_gdf">
      <data key="d0">data</data>
      <data key="d2">NC tract boundary GeoDataFrame</data>
    </node>
    <node id="population_csv_url">
      <data key="d0">data</data>
      <data key="d3">https://github.com/gladcolor/LLM-Geo/raw/master/overlay_analysis/NC_tract_population.csv</data>
      <data key="d2">NC tract population CSV file URL</data>
    </node>
    <node id="load_population_csv">
      <data key="d0">operation</data>
      <data key="d2">Load NC tract population CSV file</data>
    </node>
    <node id="population_df">
      <data key="d0">data</data>
      <data key="d2">NC tract population DataFrame</data>
    </node>
    <node id="join_population_and_tract">
      <data key="d0">operation</data>
      <data key="d2">Join population DataFrame with tract GeoDataFrame</data>
    </node>
    <node id="populated_tract_gdf">
      <data key="d0">data</data>
      <data key="d2">Populated tract GeoDataFrame</data>
    </node>
    <node id="overlay_haz_waste_and_populated_tract">
      <data key="d0">operation</data>
      <data key="d2">Overlay hazardous waste GeoDataFrame with populated tract GeoDataFrame</data>
    </node>
    <node id="hazard_tract_gdf">
      <data key="d0">data</data>
      <data key="d2">Hazardous waste tracts GeoDataFrame</data>
    </node>
    <node id="compute_hazard_population">
      <data key="d0">operation</data>
      <data key="d2">Compute and print out the sum of population in hazardous waste tracts</data>
    </node>
    <node id="hazard_population">
      <data key="d0">data</data>
      <data key="d2">Population living in hazardous waste tracts</data>
    </node>
    <node id="map_cartographer">
      <data key="d0">operation</data>
      <data key="d2">Make population choropleth map of NC, highlighting hazardous waste tracts</data>
    </node>
    <node id="population_map_fig">
      <data key="d0">data</data>
      <data key="d2">Population choropleth map figure with hazardous waste tracts highlighted</data>
    </node>
    <edge source="haz_waste_shp_url" target="load_haz_waste_shp" />
    <edge source="load_haz_waste_shp" target="haz_waste_gdf" />
    <edge source="haz_waste_gdf" target="overlay_haz_waste_and_populated_tract" />
    <edge source="tract_shp_url" target="load_tract_shp" />
    <edge source="load_tract_shp" target="tract_gdf" />
    <edge source="tract_gdf" target="join_population_and_tract" />
    <edge source="population_csv_url" target="load_population_csv" />
    <edge source="load_population_csv" target="population_df" />
    <edge source="population_df" target="join_population_and_tract" />
    <edge source="join_population_and_tract" target="populated_tract_gdf" />
    <edge source="populated_tract_gdf" target="overlay_haz_waste_and_populated_tract" />
    <edge source="populated_tract_gdf" target="map_cartographer" />
    <edge source="overlay_haz_waste_and_populated_tract" target="hazard_tract_gdf" />
    <edge source="hazard_tract_gdf" target="compute_hazard_population" />
    <edge source="hazard_tract_gdf" target="map_cartographer" />
    <edge source="compute_hazard_population" target="hazard_population" />
    <edge source="map_cartographer" target="population_map_fig" />
  </graph>
</graphml>
